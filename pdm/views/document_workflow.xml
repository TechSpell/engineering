<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>
    <record model="workflow" id="plm_document_flow">
        <field name="name">plm.document.flow</field>
        <field name="osv">plm.document</field>
        <field name="on_create">True</field>
    </record>

    <!-- Activities -->

    <record model="workflow.activity" id="act_plm_doc_draft">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">draft</field>
        <field name="flow_start">True</field>
        <field name="kind">function</field>
        <field name="action">action_draft()</field>
    </record>

    <record model="workflow.activity" id="act_plm_doc_confirmed">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">confirmed</field>
        <field name="kind">function</field>
        <field name="action">action_confirm()</field>
    </record>

    <record model="workflow.activity" id="act_plm_doc_uploaded">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">uploaded</field>
        <field name="kind">function</field>
        <field name="action">action_upload()</field>
    </record>

    <record model="workflow.activity" id="act_plm_doc_corrected">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">draft</field>
        <field name="kind">function</field>
        <field name="action">action_correct()</field>
    </record>

    <record model="workflow.activity" id="act_plm_doc_released">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">released</field>
        <field name="kind">function</field>
        <field name="action">action_release()</field>
    </record>

    <record model="workflow.activity" id="act_plm_doc_obsoleted">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">obsoleted</field>
        <field name="flow_stop">True</field>
    </record>

    <record model="workflow.activity" id="act_plm_doc_reactivated">
        <field name="wkf_id" ref="plm_document_flow"/>
        <field name="name">released</field>
        <field name="kind">function</field>
        <field name="action">action_reactivate()</field>
    </record>

    <!-- Transitions -->

    <record model="workflow.transition" id="trans_plm_draft_confirmed">
        <field name="act_from" ref="act_plm_doc_draft"/>
        <field name="act_to" ref="act_plm_doc_confirmed"/>
        <field name="signal">confirm</field>
    </record>

    <record model="workflow.transition" id="trans_plm_correct_confirmed">
        <field name="act_from" ref="act_plm_doc_corrected"/>
        <field name="act_to" ref="act_plm_doc_confirmed"/>
        <field name="signal">confirm</field>
    </record>

    <record model="workflow.transition" id="trans_plm_confirmed_draft">
        <field name="act_from" ref="act_plm_doc_confirmed"/>
        <field name="act_to" ref="act_plm_doc_corrected"/>
        <field name="signal">correct</field>
    </record>

   <record model="workflow.transition" id="trans_plm_draft_uploaded">
        <field name="act_from" ref="act_plm_doc_draft"/>
        <field name="act_to" ref="act_plm_doc_uploaded"/>
        <field name="signal">uploaddoc</field>
    </record>

    <record model="workflow.transition" id="trans_plm_uploaded_draft">
        <field name="act_from" ref="act_plm_doc_uploaded"/>
        <field name="act_to" ref="act_plm_doc_draft"/>
        <field name="signal">checkuploadeddoc</field>
    </record>

    <record model="workflow.transition" id="trans_plm_confirmed_released">
        <field name="act_from" ref="act_plm_doc_confirmed"/>
        <field name="act_to" ref="act_plm_doc_released"/>
        <field name="signal">release</field>
    </record>

    <record model="workflow.transition" id="trans_plm_released_obsoleted">
        <field name="act_from" ref="act_plm_doc_released"/>
        <field name="act_to" ref="act_plm_doc_obsoleted"/>
        <field name="signal">obsolete</field>
    </record>

    <record model="workflow.transition" id="trans_plm_obsoleted_released">
        <field name="act_from" ref="act_plm_doc_obsoleted"/>
        <field name="act_to" ref="act_plm_doc_reactivated"/>
        <field name="signal">reactivate</field>
    </record>

    <record model="workflow.transition" id="trans_plm_reactivated_obsoleted">
        <field name="act_to" ref="act_plm_doc_obsoleted"/>
        <field name="act_from" ref="act_plm_doc_reactivated"/>
        <field name="signal">obsolete</field>
    </record>
    
</data>
</odoo>
